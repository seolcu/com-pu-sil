# Pointers

## 변수와 메모리

- 메모리에는 1byte씩 나누어진, 빈 공간이 존재한다.
- 메모리 공간에 대응하는 메모리 주소가 존재한다.
- 변수를 선언하면, 메모리에서 그 변수의 값을 담기 위한 공간을 할당한다.
- 자료형에 따라서 할당하는 공간의 개수가 바뀐다.
  - int: 4byte
  - char: 1byte
  - float: 4byte
  - ...

### 변수의 주소

- 자료형에 따라서 변수에 할당되는 공간이 여러개일 수 있다.
- 이때 할당된 공간 중 첫번째 주소가 **변수의 주소**이다.
  - Ex. int인 변수 a에 할당된 메모리의 주소가 {204, 205, 206, 207}일 때, a의 주소는 204이다.
- 변수 앞에 `&`를 붙이면 그 변수의 주소가 된다.

```C
int a;
// Ex. {204, 205, 206, 207}에 할당됨
printf("%d", &a);
// >>> 204
```

## 포인터란

- 포인터란 다른 변수의 주소를 담을 수 있는 변수이다.
- 포인터는 `자료형 *포인터명;` 형식으로 선언된다.

  ```C
  int a;
  // Ex. &a == 204
  int *p;

  p = &a;
  printf("%d\n", p);
  // >>> 204
  ```

- 포인터도 **변수**이기에, 메모리에 공간을 할당받는다.
- 따라서 포인터의 주소도 존재한다.

  ```C
  int *p;
  // Ex. &p == 64
  ```

## Dereference

- Dereference: 변수의 주소 앞에 `*`를 붙이면 그 변수의 값이 된다.

  ```C
  int a = 5;
  // Ex. &a == 204
  int *p;
  // 주의: 이 *는 Dereference가 아님(포인터 선언을 의미)

  p = &a;
  printf("%d\n", *p);
  // >>> 5
  ```

- Dereference를 이용해 변수의 값을 수정하는 것도 가능하다.

```C
  int a = 5;
  int *p;

  p = &a;
  *p = 8;
  printf("%d\n", a);
  // >>> 8
```

### **주의: 포인터 선언과 Dereference 혼동주의**

- 포인터 선언에 쓰이는 `*`는 Dereference를 의미하지 않는다.
- 따라서 다음 두 코드는 같다.

  ```C
  int a;
  int *p;
  p = &a;
  ```

  ```C
  int a;
  int *p = &a;
  ```
